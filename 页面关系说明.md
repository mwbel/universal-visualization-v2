# 📱 万物可视化页面关系说明

**日期**: 2025-11-05
**系统架构**: 前端多入口 + 统一后端API

## 🏗️ 系统架构图

```
┌─────────────────────────────────────────────────────────────┐
│                    前端入口层 (Port 8888)                    │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  ┌─────────────────┐ ┌─────────────────┐ ┌─────────────────┐ │
│  │   主应用入口     │ │  自定义演示页面   │ │  测试页面集合    │ │
│  │ index.html      │ │custom-viz-demo  │ │test-*.html      │ │
│  │ + 完整UI界面     │ │ + 专用演示界面    │ │ + 功能测试       │ │
│  │ + 路由系统       │ │ + 快速示例       │ │ + 调试工具       │ │
│  └─────────────────┘ └─────────────────┘ └─────────────────┘ │
│                                                             │
│  ┌─────────────────┐ ┌─────────────────┐ ┌─────────────────┐ │
│  │  智能可视化演示   │ │  高中数学模块    │ │  其他子模块      │ │
│  │intelligent-viz  │ │  math/index     │ │  various apps   │ │
│  │ + 三种输入模式    │ │ + 教育专用功能    │ │ + 专业功能       │ │
│  │ + 高级配置       │ │ + 知识讲解       │ │ + 定制界面       │ │
│  └─────────────────┘ └─────────────────┘ └─────────────────┘ │
└─────────────────────────────────────────────────────────────┘
                              │
                              ▼
┌─────────────────────────────────────────────────────────────┐
│                    后端API层 (Port 8000)                     │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  ┌─────────────────────────────────────────────────────────┐ │
│  │              FastAPI 后端服务                           │ │
│  │                                                         │ │
│  │  ┌─────────────┐ ┌─────────────┐ ┌─────────────────────┐ │ │
│  │  │   API路由    │ │  模板匹配器   │ │   可视化生成器       │ │ │
│  │  │/resolve_or_ │ │Intelligent   │ │HTML Generator      │ │ │
│  │  │generate     │ │Matcher       │ │+ 7种分布类型        │ │ │
│  │  │/health      │ │+ 关键词识别    │ │+ 交互式控件         │ │ │
│  │  │/debug/*     │ │+ 参数解析      │ │+ 统计信息          │ │ │
│  │  └─────────────┘ └─────────────┘ └─────────────────────┘ │ │
│  └─────────────────────────────────────────────────────────┘ │
└─────────────────────────────────────────────────────────────┘
```

## 📄 页面详细说明

### 🏠 主应用入口
**地址**: `http://localhost:8888/main-app/index.html`

**功能**:
- ✅ 完整的应用界面和导航
- 🎨 统一的设计风格 (Fusion Design)
- 🔄 路由系统和页面切换
- 👤 用户界面 (访客模式)
- 📱 响应式设计

**适用场景**: 日常使用，完整体验

### 🎨 自定义演示页面 (推荐)
**地址**: `http://localhost:8888/custom-viz-demo.html`

**功能**:
- 🎯 专门的可视化演示界面
- ⚡ 快速示例按钮
- 📝 自然语言输入
- 💡 实时状态检查
- 🔄 错误处理

**适用场景**: 快速体验，功能演示

### 🧪 测试页面集合

#### 扩展分布测试
**地址**: `http://localhost:8888/test-extended-distributions.html`

**功能**:
- 📊 测试所有7种概率分布
- 🆕 新增分布标识
- 📈 iframe预览
- 🔍 后端状态检查

#### 固定坐标轴测试
**地址**: `http://localhost:8888/test-fixed-axes.html`

**功能**:
- 📐 测试固定坐标轴功能
- 🔄 参数变化时坐标轴稳定性
- 📊 多种参数组合测试

### 🧠 智能可视化演示
**地址**: `http://localhost:8888/main-app/test/intelligent-viz-demo.html`

**功能**:
- 🎯 三种输入模式 (简单/结构化/高级)
- 📊 实时预览
- 🔄 重新生成功能
- 📱 移动端适配

### 📚 高中数学模块
**地址**: `http://localhost:8888/main-app/high-school/math/index.html`

**功能**:
- 🎓 教育专用设计
- 📖 数学概念讲解
- 🧮 计算过程展示
- 📚 知识点关联

## 🔗 页面关系

### 数据流向
```
用户输入 → 前端页面 → HTTP请求 → 后端API → 可视化生成 → HTML返回 → 页面显示
```

### 共同特性
- 🔄 **统一后端**: 所有页面都使用同一个后端API (`localhost:8000`)
- 📊 **相同功能**: 都能生成7种概率分布的可视化
- 🎨 **相似交互**: 支持参数调整和实时更新
- 📱 **响应式**: 适配不同屏幕尺寸

### 主要区别
| 页面类型 | 主要用途 | 复杂度 | 适用用户 |
|---------|---------|--------|----------|
| 主应用入口 | 完整功能体验 | ⭐⭐⭐⭐⭐ | 普通用户 |
| 自定义演示 | 快速功能演示 | ⭐⭐⭐ | 新手体验 |
| 测试页面 | 功能验证调试 | ⭐⭐⭐⭐ | 开发者 |
| 智能演示 | 高级功能展示 | ⭐⭐⭐⭐⭐ | 高级用户 |
| 教育模块 | 教学学习 | ⭐⭐⭐⭐ | 学生教师 |

## 🚨 常见问题排查

### 1. 图表不显示
**可能原因**:
- 后端服务未启动
- CORS跨域问题
- JavaScript错误
- 网络连接问题

**解决方法**:
```bash
# 检查后端服务
curl http://localhost:8000/health

# 重启后端服务
cd /项目目录
source backend-env/bin/activate
python backend-api.py

# 检查浏览器控制台错误
F12 → Console 查看错误信息
```

### 2. 页面无法访问
**可能原因**:
- HTTP服务器未启动
- 端口被占用
- 文件路径错误

**解决方法**:
```bash
# 重启HTTP服务器
python3 -m http.server 8888

# 检查端口占用
lsof -ti:8888
```

### 3. API请求失败
**可能原因**:
- 后端API地址错误
- 请求格式不正确
- 参数解析失败

**解决方法**:
- 确认API地址为 `http://localhost:8000`
- 检查请求JSON格式
- 查看后端日志

## 🎯 推荐使用顺序

### 新手体验
1. **自定义演示页面** → 了解基本功能
2. **扩展分布测试** → 体验所有分布类型
3. **主应用入口** → 体验完整功能

### 开发调试
1. **测试页面集合** → 验证具体功能
2. **智能可视化演示** → 测试高级功能
3. **直接API调用** → 底层功能测试

### 教学使用
1. **高中数学模块** → 教育专用功能
2. **固定坐标轴测试** → 理解参数影响
3. **自定义演示页面** → 创建自定义案例

---

**💡 提示**: 所有页面都共享同一个后端API系统，你可以根据需要选择最适合的入口页面。