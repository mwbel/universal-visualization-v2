<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æŒ‰é’®å“åº”æµ‹è¯•</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background: #f5f5f5;
        }
        .test-container {
            background: white;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .btn {
            background: #007bff;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            margin: 5px;
            font-size: 14px;
        }
        .btn:hover {
            background: #0056b3;
        }
        .btn.success {
            background: #28a745;
        }
        .btn.warning {
            background: #ffc107;
            color: #212529;
        }
        .btn.danger {
            background: #dc3545;
        }
        .subcategory {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            padding: 15px;
            margin: 10px 0;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        .subcategory:hover {
            background: #e9ecef;
            transform: translateX(4px);
        }
        .subcategory-name {
            font-weight: 600;
            color: #495057;
            margin-bottom: 5px;
        }
        .subcategory-desc {
            color: #6c757d;
            font-size: 14px;
        }
        #console-output {
            background: #1e1e1e;
            color: #fff;
            padding: 15px;
            border-radius: 5px;
            font-family: 'Courier New', monospace;
            font-size: 12px;
            max-height: 300px;
            overflow-y: auto;
            white-space: pre-wrap;
        }
        .status {
            padding: 10px;
            border-radius: 5px;
            margin: 10px 0;
        }
        .status.success {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        .status.error {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
        .status.info {
            background: #d1ecf1;
            color: #0c5460;
            border: 1px solid #bee5eb;
        }
    </style>
</head>
<body>
    <h1>ğŸ§ª æŒ‰é’®å“åº”æµ‹è¯•é¡µé¢</h1>

    <div class="test-container">
        <h2>åŸºç¡€åŠŸèƒ½æµ‹è¯•</h2>
        <button class="btn" onclick="testBasicAlert()">æµ‹è¯•åŸºç¡€å¼¹çª—</button>
        <button class="btn success" onclick="testConsoleLog()">æµ‹è¯•æ§åˆ¶å°è¾“å‡º</button>
        <button class="btn warning" onclick="testErrorHandling()">æµ‹è¯•é”™è¯¯å¤„ç†</button>
        <button class="btn danger" onclick="clearConsole()">æ¸…ç©ºæ§åˆ¶å°</button>
        <div id="status-output"></div>
    </div>

    <div class="test-container">
        <h2>æ¨¡æ‹Ÿå­åˆ†ç±»æŒ‰é’®æµ‹è¯•</h2>
        <div class="subcategory" data-submodule="probability-stats" onclick="testSubcategoryClick('probability-stats', 'æ¦‚ç‡ç»Ÿè®¡')">
            <div class="subcategory-name">æ¦‚ç‡ç»Ÿè®¡</div>
            <div class="subcategory-desc">ç‚¹å‡»æµ‹è¯•æ¦‚ç‡ç»Ÿè®¡æ¨¡å—å“åº”</div>
        </div>
        <div class="subcategory" data-submodule="linear-algebra" onclick="testSubcategoryClick('linear-algebra', 'çº¿æ€§ä»£æ•°')">
            <div class="subcategory-name">çº¿æ€§ä»£æ•°</div>
            <div class="subcategory-desc">ç‚¹å‡»æµ‹è¯•çº¿æ€§ä»£æ•°æ¨¡å—å“åº”</div>
        </div>
        <div class="subcategory" data-submodule="differential-geometry" onclick="testSubcategoryClick('differential-geometry', 'å¾®åˆ†å‡ ä½•')">
            <div class="subcategory-name">å¾®åˆ†å‡ ä½•</div>
            <div class="subcategory-desc">ç‚¹å‡»æµ‹è¯•å¾®åˆ†å‡ ä½•æ¨¡å—å“åº”</div>
        </div>
    </div>

    <div class="test-container">
        <h2>æ§åˆ¶å°è¾“å‡º</h2>
        <div id="console-output"></div>
    </div>

    <script>
        // æ§åˆ¶å°è¾“å‡ºé‡å®šå‘
        const originalLog = console.log;
        const originalError = console.error;
        const originalWarn = console.warn;
        const consoleOutput = document.getElementById('console-output');

        function addToConsole(message, type = 'log') {
            const timestamp = new Date().toLocaleTimeString();
            const color = type === 'error' ? '#ff6b6b' : type === 'warn' ? '#ffa726' : '#fff';
            const entry = document.createElement('div');
            entry.style.color = color;
            entry.textContent = `[${timestamp}] ${message}`;
            consoleOutput.appendChild(entry);
            consoleOutput.scrollTop = consoleOutput.scrollHeight;
        }

        console.log = function(...args) {
            originalLog.apply(console, args);
            addToConsole(args.join(' '), 'log');
        };

        console.error = function(...args) {
            originalError.apply(console, args);
            addToConsole(args.join(' '), 'error');
        };

        console.warn = function(...args) {
            originalWarn.apply(console, args);
            addToConsole(args.join(' '), 'warn');
        };

        function showStatus(message, type = 'info') {
            const statusOutput = document.getElementById('status-output');
            const statusDiv = document.createElement('div');
            statusDiv.className = `status ${type}`;
            statusDiv.textContent = message;
            statusOutput.appendChild(statusDiv);

            // 3ç§’åè‡ªåŠ¨ç§»é™¤
            setTimeout(() => {
                if (statusDiv.parentNode) {
                    statusDiv.parentNode.removeChild(statusDiv);
                }
            }, 3000);
        }

        function testBasicAlert() {
            console.log('æµ‹è¯•åŸºç¡€å¼¹çª—åŠŸèƒ½');
            showStatus('âœ… åŸºç¡€å¼¹çª—åŠŸèƒ½æ­£å¸¸', 'success');
            alert('è¿™æ˜¯ä¸€ä¸ªæµ‹è¯•å¼¹çª—ï¼Œè¯´æ˜JavaScriptæ­£å¸¸å·¥ä½œï¼');
        }

        function testConsoleLog() {
            console.log('æµ‹è¯•æ§åˆ¶å°è¾“å‡ºåŠŸèƒ½');
            showStatus('âœ… æ§åˆ¶å°è¾“å‡ºåŠŸèƒ½æ­£å¸¸', 'success');
            console.log('è¿™æ˜¯æ§åˆ¶å°æ—¥å¿—è¾“å‡ºæµ‹è¯•');
            console.warn('è¿™æ˜¯è­¦å‘Šä¿¡æ¯æµ‹è¯•');
            console.error('è¿™æ˜¯é”™è¯¯ä¿¡æ¯æµ‹è¯•');
        }

        function testErrorHandling() {
            console.log('æµ‹è¯•é”™è¯¯å¤„ç†åŠŸèƒ½');
            try {
                throw new Error('è¿™æ˜¯ä¸€ä¸ªæµ‹è¯•é”™è¯¯');
            } catch (error) {
                console.error('æ•è·åˆ°é”™è¯¯:', error.message);
                showStatus('âœ… é”™è¯¯å¤„ç†åŠŸèƒ½æ­£å¸¸', 'success');
            }
        }

        function testSubcategoryClick(submodule, name) {
            console.log(`=== æµ‹è¯•å­åˆ†ç±»ç‚¹å‡» ===`);
            console.log(`ç‚¹å‡»çš„å­æ¨¡å—: ${submodule}`);
            console.log(`å­æ¨¡å—åç§°: ${name}`);

            // æ¨¡æ‹ŸexploreSubmoduleåŠŸèƒ½
            const moduleUrls = {
                'probability-stats': '../GeneralVisualization/app/modules/probability_statistics/index.html',
                'linear-algebra': '../GeneralVisualization/app/modules/linear_algebra/index.html',
                'differential-geometry': '../GeneralVisualization/app/modules/differential_geometry/index.html'
            };

            const targetUrl = moduleUrls[submodule];
            if (targetUrl) {
                console.log(`ç›®æ ‡URL: ${targetUrl}`);
                showStatus(`âœ… ${name} æ¨¡å—å“åº”æ­£å¸¸ï¼Œç›®æ ‡URL: ${targetUrl}`, 'success');

                // è¯¢é—®æ˜¯å¦è¦è·³è½¬
                if (confirm(`æ˜¯å¦è¦è·³è½¬åˆ° ${name} æ¨¡å—ï¼Ÿ\nURL: ${targetUrl}`)) {
                    console.log(`ç”¨æˆ·ç¡®è®¤è·³è½¬åˆ° ${name}`);
                    window.open(targetUrl, '_blank');
                } else {
                    console.log(`ç”¨æˆ·å–æ¶ˆè·³è½¬åˆ° ${name}`);
                }
            } else {
                console.error(`æœªæ‰¾åˆ°å­æ¨¡å— ${submodule} å¯¹åº”çš„URL`);
                showStatus(`âŒ æœªæ‰¾åˆ° ${name} æ¨¡å—å¯¹åº”çš„URL`, 'error');
            }
        }

        function clearConsole() {
            consoleOutput.innerHTML = '';
            console.log('=== æ§åˆ¶å°å·²æ¸…ç©º ===');
        }

        // é¡µé¢åŠ è½½æ—¶çš„æµ‹è¯•
        window.addEventListener('load', () => {
            console.log('ğŸ§ª æŒ‰é’®å“åº”æµ‹è¯•é¡µé¢åŠ è½½å®Œæˆ');
            console.log('ğŸ“‹ å¼€å§‹åŸºç¡€åŠŸèƒ½æ£€æŸ¥...');

            // æ£€æŸ¥DOMå…ƒç´ 
            const subcategories = document.querySelectorAll('.subcategory');
            console.log(`æ‰¾åˆ° ${subcategories.length} ä¸ªå­åˆ†ç±»å…ƒç´ `);

            const buttons = document.querySelectorAll('.btn');
            console.log(`æ‰¾åˆ° ${buttons.length} ä¸ªæŒ‰é’®å…ƒç´ `);

            showStatus('âœ… é¡µé¢åŠ è½½å®Œæˆï¼Œæ‰€æœ‰å…ƒç´ å·²å°±ç»ª', 'success');
            console.log('âœ… åŸºç¡€åŠŸèƒ½æ£€æŸ¥å®Œæˆ');
        });

        // æµ‹è¯•é”®ç›˜äº‹ä»¶
        document.addEventListener('keydown', (e) => {
            if (e.key === 'F12') {
                console.log('ç”¨æˆ·æŒ‰ä¸‹äº†F12é”®');
                showStatus('æ£€æµ‹åˆ°F12æŒ‰é”®ï¼Œå¯ä»¥æ‰“å¼€å¼€å‘è€…å·¥å…·', 'info');
            }
        });
    </script>
</body>
</html>