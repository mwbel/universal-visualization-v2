<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>äºŒé¡¹åˆ†å¸ƒäº¤äº’å¼å¯è§†åŒ– - ç¦»çº¿ç‰ˆ</title>
    
    <!-- MathJaxé…ç½® -->
    <script type="text/javascript">
        window.MathJax = {
            tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']],
                displayMath: [['$$', '$$'], ['\\[', '\\]']],
                processEscapes: true,
                processEnvironments: true
            },
            options: {
                skipHtmlTags: ['script', 'noscript', 'style', 'textarea', 'pre']
            }
        };
    </script>
    <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script type="text/javascript" id="MathJax-script" async
        src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
    </script>
    <!-- ç¦»çº¿ç‰ˆæœ¬ï¼šè¯·ä¸‹è½½plotly.min.jsåˆ°æœ¬åœ° -->
    <!-- ä¸‹è½½åœ°å€ï¼šhttps://cdn.plot.ly/plotly-2.26.0.min.js -->
    <script>
        // å†…åµŒç®€åŒ–ç‰ˆPlotly.jsæ ¸å¿ƒåŠŸèƒ½
        window.Plotly = {
            version: '2.26.0-embedded',
            newPlot: function(div, data, layout, config) {
                return new Promise((resolve, reject) => {
                    try {
                        const container = typeof div === 'string' ? document.getElementById(div) : div;
                        if (!container) {
                            reject(new Error('Container not found'));
                            return;
                        }
                        
                        // æ¸…ç©ºå®¹å™¨
                        container.innerHTML = '';
                        
                        // åˆ›å»ºSVGç”»å¸ƒ
                        const svg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');
                        svg.style.width = '100%';
                        svg.style.height = '100%';
                        container.appendChild(svg);
                        
                        // ç®€åŒ–çš„ç»˜å›¾é€»è¾‘
                        this._drawChart(svg, data, layout, config);
                        resolve();
                    } catch (error) {
                        reject(error);
                    }
                });
            },
            
            _drawChart: function(svg, data, layout, config) {
                const width = svg.clientWidth || 800;
                const height = svg.clientHeight || 400;
                const margin = layout.margin || { t: 50, r: 50, b: 50, l: 50 };
                
                svg.setAttribute('width', width);
                svg.setAttribute('height', height);
                svg.setAttribute('viewBox', `0 0 ${width} ${height}`);
                
                // ç»˜åˆ¶èƒŒæ™¯
                const bg = document.createElementNS('http://www.w3.org/2000/svg', 'rect');
                bg.setAttribute('width', width);
                bg.setAttribute('height', height);
                bg.setAttribute('fill', layout.paper_bgcolor || 'white');
                svg.appendChild(bg);
                
                // ç»˜åˆ¶æ ‡é¢˜
                if (layout.title) {
                    const title = document.createElementNS('http://www.w3.org/2000/svg', 'text');
                    title.setAttribute('x', width / 2);
                    title.setAttribute('y', 30);
                    title.setAttribute('text-anchor', 'middle');
                    title.setAttribute('font-family', layout.font?.family || 'Arial');
                    title.setAttribute('font-size', '16');
                    title.setAttribute('font-weight', 'bold');
                    title.textContent = layout.title;
                    svg.appendChild(title);
                }
                
                // è®¡ç®—ç»˜å›¾åŒºåŸŸ
                const plotWidth = width - margin.l - margin.r;
                const plotHeight = height - margin.t - margin.b;
                
                // ç»˜åˆ¶åæ ‡è½´
                this._drawAxes(svg, margin, plotWidth, plotHeight, data, layout);
                
                // ç»˜åˆ¶æ•°æ®
                data.forEach((trace, index) => {
                    this._drawTrace(svg, trace, margin, plotWidth, plotHeight, data, layout);
                });
                
                // ç»˜åˆ¶å›¾ä¾‹
                this._drawLegend(svg, data, width, height, margin);
            },
            
            _drawAxes: function(svg, margin, plotWidth, plotHeight, data, layout) {
                // Xè½´
                const xAxis = document.createElementNS('http://www.w3.org/2000/svg', 'line');
                xAxis.setAttribute('x1', margin.l);
                xAxis.setAttribute('y1', margin.t + plotHeight);
                xAxis.setAttribute('x2', margin.l + plotWidth);
                xAxis.setAttribute('y2', margin.t + plotHeight);
                xAxis.setAttribute('stroke', '#333');
                xAxis.setAttribute('stroke-width', '1');
                svg.appendChild(xAxis);
                
                // Yè½´
                const yAxis = document.createElementNS('http://www.w3.org/2000/svg', 'line');
                yAxis.setAttribute('x1', margin.l);
                yAxis.setAttribute('y1', margin.t);
                yAxis.setAttribute('x2', margin.l);
                yAxis.setAttribute('y2', margin.t + plotHeight);
                yAxis.setAttribute('stroke', '#333');
                yAxis.setAttribute('stroke-width', '1');
                svg.appendChild(yAxis);
                
                // è½´æ ‡ç­¾
                if (layout.xaxis?.title) {
                    const xLabel = document.createElementNS('http://www.w3.org/2000/svg', 'text');
                    xLabel.setAttribute('x', margin.l + plotWidth / 2);
                    xLabel.setAttribute('y', margin.t + plotHeight + 40);
                    xLabel.setAttribute('text-anchor', 'middle');
                    xLabel.setAttribute('font-size', '12');
                    xLabel.textContent = layout.xaxis.title;
                    svg.appendChild(xLabel);
                }
                
                if (layout.yaxis?.title) {
                    const yLabel = document.createElementNS('http://www.w3.org/2000/svg', 'text');
                    yLabel.setAttribute('x', 20);
                    yLabel.setAttribute('y', margin.t + plotHeight / 2);
                    yLabel.setAttribute('text-anchor', 'middle');
                    yLabel.setAttribute('font-size', '12');
                    yLabel.setAttribute('transform', `rotate(-90, 20, ${margin.t + plotHeight / 2})`);
                    yLabel.textContent = layout.yaxis.title;
                    svg.appendChild(yLabel);
                }
            },
            
            _drawTrace: function(svg, trace, margin, plotWidth, plotHeight, allData, layout) {
                if (!trace.x || !trace.y) return;
                
                // è®¡ç®—æ•°æ®èŒƒå›´
                const xMin = Math.min(...trace.x);
                const xMax = Math.max(...trace.x);
                const yMin = 0;
                const yMax = Math.max(...allData.flatMap(t => t.y || []));
                
                // åˆ›å»ºè·¯å¾„
                let pathData = '';
                trace.x.forEach((x, i) => {
                    const y = trace.y[i];
                    const px = margin.l + (x - xMin) / (xMax - xMin) * plotWidth;
                    const py = margin.t + plotHeight - (y - yMin) / (yMax - yMin) * plotHeight;
                    
                    if (i === 0) {
                        pathData += `M ${px} ${py}`;
                    } else {
                        pathData += ` L ${px} ${py}`;
                    }
                    
                    // ç»˜åˆ¶ç‚¹
                    if (trace.mode?.includes('markers')) {
                        const circle = document.createElementNS('http://www.w3.org/2000/svg', 'circle');
                        circle.setAttribute('cx', px);
                        circle.setAttribute('cy', py);
                        circle.setAttribute('r', trace.marker?.size || 3);
                        circle.setAttribute('fill', trace.marker?.color || trace.line?.color || '#1f77b4');
                        svg.appendChild(circle);
                    }
                });
                
                // ç»˜åˆ¶çº¿æ¡
                if (trace.mode?.includes('lines')) {
                    const path = document.createElementNS('http://www.w3.org/2000/svg', 'path');
                    path.setAttribute('d', pathData);
                    path.setAttribute('stroke', trace.line?.color || '#1f77b4');
                    path.setAttribute('stroke-width', trace.line?.width || 2);
                    path.setAttribute('fill', 'none');
                    svg.appendChild(path);
                }
            },
            
            _drawLegend: function(svg, data, width, height, margin) {
                const legendX = width - 150;
                let legendY = margin.t + 20;
                
                data.forEach((trace, index) => {
                    if (trace.name) {
                        // å›¾ä¾‹é¢œè‰²å—
                        const rect = document.createElementNS('http://www.w3.org/2000/svg', 'rect');
                        rect.setAttribute('x', legendX);
                        rect.setAttribute('y', legendY - 8);
                        rect.setAttribute('width', 15);
                        rect.setAttribute('height', 3);
                        rect.setAttribute('fill', trace.line?.color || trace.marker?.color || '#1f77b4');
                        svg.appendChild(rect);
                        
                        // å›¾ä¾‹æ–‡å­—
                        const text = document.createElementNS('http://www.w3.org/2000/svg', 'text');
                        text.setAttribute('x', legendX + 20);
                        text.setAttribute('y', legendY);
                        text.setAttribute('font-size', '12');
                        text.textContent = trace.name;
                        svg.appendChild(text);
                        
                        legendY += 20;
                    }
                });
            }
        };
    </script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Microsoft YaHei', 'PingFang SC', sans-serif;
            font-size: 16px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
            display: flex;
        }

        .sidebar {
            width: 250px;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            padding: 20px;
            box-shadow: 2px 0 10px rgba(0, 0, 0, 0.1);
            position: fixed;
            height: 100vh;
            overflow-y: auto;
        }

        .sidebar-title {
            font-size: 1.4rem;
            font-weight: 600;
            color: #333;
            margin-bottom: 20px;
            text-align: center;
            border-bottom: 2px solid #667eea;
            padding-bottom: 10px;
        }

        .nav-item {
            padding: 12px 15px;
            margin: 5px 0;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            color: #555;
            font-weight: 500;
        }

        .nav-item:hover {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            transform: translateX(5px);
        }

        .page-content {
            margin-left: 250px;
            flex: 1;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            color: white;
            margin-bottom: 30px;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            font-weight: 300;
        }

        .header p {
            font-size: 1.1em;
            opacity: 0.9;
        }

        .definition-section {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            backdrop-filter: blur(10px);
            margin-bottom: 20px;
        }

        .definition-section h2 {
            color: #2d3748;
            margin-bottom: 20px;
            font-size: 1.5em;
            border-bottom: 3px solid #667eea;
            padding-bottom: 10px;
        }

        .definition-content p {
            margin-bottom: 15px;
            line-height: 1.6;
            color: #4a5568;
        }

        .formula-container {
            background: #f7fafc;
            border-left: 4px solid #667eea;
            padding: 15px 20px;
            margin: 15px 0;
            border-radius: 8px;
        }

        .formula-container h4 {
            color: #2d3748;
            margin-bottom: 10px;
            font-size: 1.1em;
        }

        .formula {
            background: white;
            padding: 15px;
            border-radius: 8px;
            font-family: 'Times New Roman', serif;
            font-size: 1.1em;
            text-align: left;
            border: 2px solid #e2e8f0;
            margin: 10px 0;
            color: #2d3748;
        }

        .statistics-blocks {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            margin: 15px 0;
        }

        .stat-block {
            flex: 1;
            min-width: 200px;
            padding: 12px 16px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            transition: box-shadow 0.2s ease;
            display: flex;
            flex-direction: column;
            align-items: flex-start;
            text-align: left;
        }

        .stat-block:hover {
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
        }

        .stat-block.expectation {
            background: linear-gradient(135deg, #fee2e2, #fecaca);
            border: 2px solid #ef4444;
            color: #991b1b;
        }

        .stat-block.variance {
            background: linear-gradient(135deg, #dcfce7, #bbf7d0);
            border: 2px solid #22c55e;
            color: #166534;
        }

        .stat-block.std-deviation {
            background: linear-gradient(135deg, #dbeafe, #bfdbfe);
            border: 2px solid #3b82f6;
            color: #1e40af;
        }

        .stat-label {
            font-size: 1.0em;
            font-weight: bold;
            margin: 0;
        }

        .stat-formula {
            font-family: 'Times New Roman', serif;
            font-size: 1.1em;
            text-align: left;
            background: rgba(255, 255, 255, 0.1);
            padding: 10px;
            border-radius: 6px;
            backdrop-filter: blur(10px);
        }

        .formula-list {
            list-style: none;
            padding: 0;
        }

        .formula-list li {
            background: white;
            padding: 8px 15px;
            margin: 5px 0;
            border-radius: 5px;
            border-left: 3px solid #667eea;
            font-family: 'Times New Roman', serif;
        }

        .parameters-info {
            background: #edf2f7;
            padding: 15px 20px;
            border-radius: 8px;
            margin-top: 15px;
        }

        .parameters-info h4 {
            color: #2d3748;
            margin-bottom: 10px;
        }

        .parameters-info ul {
            list-style: none;
            padding: 0;
        }

        .parameters-info li {
            padding: 5px 0;
            color: #4a5568;
        }

        .main-panel {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            backdrop-filter: blur(10px);
            margin-bottom: 20px;
        }

        .controls-section {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-bottom: 30px;
        }

        .control-group {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 15px;
            border: 2px solid #e9ecef;
        }

        .control-group h3 {
            color: #495057;
            margin-bottom: 15px;
            font-size: 1.2em;
        }

        .slider-container {
            margin-bottom: 20px;
        }

        .slider-label {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 8px;
            font-weight: 500;
        }

        .slider-value {
            background: #667eea;
            color: white;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.9em;
        }

        .slider {
            width: 100%;
            height: 8px;
            border-radius: 5px;
            background: #ddd;
            outline: none;
            -webkit-appearance: none;
        }

        .slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #667eea;
            cursor: pointer;
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.2);
        }

        .preset-buttons {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
            margin-top: 10px;
        }

        .preset-buttons button {
            padding: 8px 16px;
            border: 2px solid #667eea;
            background: white;
            color: #667eea;
            border-radius: 20px;
            cursor: pointer;
            font-size: 1.1em;
            transition: all 0.3s ease;
        }

        .preset-buttons button:hover,
        .preset-buttons button.active {
            background: #667eea;
            color: white;
        }

        .charts-section {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-bottom: 30px;
        }

        .chart-container {
            background: white;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }

        .chart-container h3 {
            color: #495057;
            margin-bottom: 15px;
            text-align: center;
            font-size: 1.1em;
        }

        .chart-placeholder {
            height: 400px;
            width: 100%;
            display: block;
            background-color: #f8f9fa;
            border: 1px solid #ddd;
            border-radius: 10px;
        }

        .stats-section {
            background: white;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            margin-bottom: 20px;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }

        .stat-card {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 15px;
            border-radius: 10px;
            text-align: center;
        }

        .stat-label {
            font-size: 0.9em;
            opacity: 0.9;
            margin-bottom: 5px;
        }

        .stat-value {
            font-size: 1.4em;
            font-weight: bold;
        }

        .comparison-tables {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
        }

        .table-container {
            background: white;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }

        .table-container h3 {
            color: #495057;
            margin-bottom: 15px;
            text-align: center;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            font-size: 0.9em;
        }

        th, td {
            padding: 8px 12px;
            text-align: center;
            border-bottom: 1px solid #e9ecef;
        }

        th {
            background: #f8f9fa;
            font-weight: 600;
            color: #495057;
        }

        tr:hover {
            background: #f8f9fa;
        }

        .offline-notice {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 20px;
            text-align: center;
            color: #856404;
        }

        @media (max-width: 768px) {
            .controls-section,
            .charts-section,
            .comparison-tables {
                grid-template-columns: 1fr;
            }
            
            .container {
                padding: 10px;
            }
            
            .header h1 {
                font-size: 2em;
            }
        }
    </style>
</head>
<body>
    <div class="sidebar">
        <h3 class="sidebar-title">æ¦‚ç‡è®ºä¸æ•°ç†ç»Ÿè®¡</h3>
        <div class="nav-item" onclick="window.location.href='../index.html'">æ¨¡å—æ¦‚è§ˆ</div>
        <div class="nav-item" onclick="window.location.href='äºŒé¡¹åˆ†å¸ƒç°ä»£åŒ–å¯è§†åŒ–_ç¦»çº¿ç‰ˆ.html'">äºŒé¡¹åˆ†å¸ƒ</div>
        <div class="nav-item" onclick="window.location.href='æ³Šæ¾åˆ†å¸ƒäº¤äº’å¼å¯è§†åŒ–_å®Œæ•´ç¦»çº¿ç‰ˆ.html'">æ³Šæ¾åˆ†å¸ƒ</div>
        <div class="nav-item" onclick="window.location.href='æŒ‡æ•°åˆ†å¸ƒäº¤äº’å¼å¯è§†åŒ–.html'">æŒ‡æ•°åˆ†å¸ƒ</div>
        <div class="nav-item" onclick="window.location.href='æ­£æ€åˆ†å¸ƒäº¤äº’å¼å¯è§†åŒ–.html'">æ­£æ€åˆ†å¸ƒ</div>
        <div class="nav-item" onclick="window.location.href='../index.html'">è¿”å› â€œæ¦‚ç‡ä¸ç»Ÿè®¡å¯è§†åŒ–ä¸–ç•Œâ€é¦–é¡µ</div>
<div class="nav-item" onclick="window.location.href='../../../index.html'">è¿”å› â€œä¸‡ç‰©å¯è§†åŒ–â€é¦–é¡µ</div>
    </div>
    
    <div class="page-content">
        <div class="container">
        <div class="header">
            <h1>ğŸ“Š äºŒé¡¹åˆ†å¸ƒäº¤äº’å¼å¯è§†åŒ–</h1>
            <p>äº¤äº’å¼å‚æ•°åˆ†æä¸ç»Ÿè®¡å¯¹æ¯” - ç¦»çº¿ç‰ˆ</p>
        </div>

        <!-- åˆ†å¸ƒè¯´æ˜ -->
        <div class="distribution-description" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 20px; border-radius: 12px; margin: 20px 0; text-align: center; box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);">
            <h2 style="margin: 0; font-size: 1.5em;">ğŸ“Š äºŒé¡¹åˆ†å¸ƒ - æè¿°å›ºå®šæ¬¡æ•°ç‹¬ç«‹è¯•éªŒä¸­æˆåŠŸæ¬¡æ•°çš„ç¦»æ•£æ¦‚ç‡åˆ†å¸ƒ</h2>
        </div>

        <div class="definition-section">
            <h2>ğŸ“ æ•°å­¦å®šä¹‰</h2>
            <div class="definition-content">
                <p>äºŒé¡¹åˆ†å¸ƒæ˜¯æè¿°åœ¨å›ºå®šæ¬¡æ•°çš„ç‹¬ç«‹é‡å¤è¯•éªŒä¸­æˆåŠŸæ¬¡æ•°çš„ç¦»æ•£æ¦‚ç‡åˆ†å¸ƒã€‚æ¯æ¬¡è¯•éªŒåªæœ‰ä¸¤ç§å¯èƒ½çš„ç»“æœï¼šæˆåŠŸæˆ–å¤±è´¥ï¼Œä¸”æˆåŠŸçš„æ¦‚ç‡åœ¨æ¯æ¬¡è¯•éªŒä¸­ä¿æŒä¸å˜ã€‚</p>
                
                <div style="background: #e8f4fd; padding: 12px; border-radius: 8px; margin: 15px 0; border-left: 4px solid #2196F3;">
                    <h4 style="color: #1976D2; margin-bottom: 8px;">ğŸ¯ é€‚ç”¨åœºæ™¯</h4>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; color: #424242;">
                        <div>
                            <strong>å·¥ä¸šåº”ç”¨ï¼š</strong><br>
                            â€¢ è´¨é‡æ£€éªŒï¼šæ£€æŸ¥nä¸ªäº§å“ä¸­æœ‰kä¸ªä¸åˆæ ¼å“çš„æ¦‚ç‡<br>
                            â€¢ å¯é æ€§åˆ†æï¼šè®¾å¤‡æ•…éšœæ¬¡æ•°ç»Ÿè®¡
                        </div>
                        <div>
                            <strong>ç”Ÿæ´»åº”ç”¨ï¼š</strong><br>
                            â€¢ åŒ»å­¦è¯•éªŒï¼šnä¸ªæ‚£è€…ä¸­æœ‰kä¸ªæ²»æ„ˆçš„æ¦‚ç‡<br>
                            â€¢ å¸‚åœºè°ƒç ”ï¼šnä¸ªå—è®¿è€…ä¸­æœ‰kä¸ªæ”¯æŒæŸè§‚ç‚¹çš„æ¦‚ç‡<br>
                            â€¢ æŠ•ç¯®å‘½ä¸­ï¼šæŠ•ç¯®næ¬¡å‘½ä¸­kæ¬¡çš„æ¦‚ç‡
                        </div>
                    </div>
                </div>
                
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin: 20px 0;">
                    <div class="formula-container">
                        <h4>æ¦‚ç‡è´¨é‡å‡½æ•° (PMF)ï¼š</h4>
                        <div class="formula">
                            $$P(X = k) = \binom{n}{k} p^k (1-p)^{n-k}$$ï¼Œå…¶ä¸­ $\binom{n}{k} = \frac{n!}{k!(n-k)!}$
                        </div>
                    </div>

                    <div class="formula-container">
                        <h4>ç´¯ç§¯åˆ†å¸ƒå‡½æ•° (CDF)ï¼š</h4>
                        <div class="formula">
                            $$F(k) = P(X \leq k) = \sum_{i=0}^{k} \binom{n}{i} p^i (1-p)^{n-i}$$
                        </div>
                    </div>
                </div>

                <div class="formula-container">
                    <h4>å‚æ•°ï¼š</h4>
                    <div class="parameters-info" style="background: #f8f9fa; padding: 15px; border-radius: 8px; margin: 10px 0;">
                        <ul style="margin: 0; padding-left: 20px; list-style-type: none;">
                            <li style="margin: 8px 0;"><strong>$n$ï¼š</strong>è¯•éªŒæ¬¡æ•°ï¼ˆæ­£æ•´æ•°ï¼‰- è¡¨ç¤ºç‹¬ç«‹é‡å¤è¯•éªŒçš„æ€»æ¬¡æ•°</li>
                            <li style="margin: 8px 0;"><strong>$p$ï¼š</strong>æˆåŠŸæ¦‚ç‡ï¼ˆ$0 < p < 1$ï¼‰- è¡¨ç¤ºå•æ¬¡è¯•éªŒæˆåŠŸçš„æ¦‚ç‡</li>
                            <li style="margin: 8px 0;"><strong>$k$ï¼š</strong>æˆåŠŸæ¬¡æ•°ï¼ˆ$0 \leq k \leq n$ï¼‰- è¡¨ç¤º$n$æ¬¡è¯•éªŒä¸­æˆåŠŸçš„æ¬¡æ•°</li>
                        </ul>
                    </div>
                </div>

                <div class="formula-container">
                    <h4>ç»Ÿè®¡ç‰¹æ€§ï¼š</h4>
                    <div class="statistics-blocks">
                        <div class="stat-block expectation">
                            <div class="stat-label"><strong>æœŸæœ›å€¼ï¼š</strong></div>
                            <div class="stat-formula">$$E(X) = np$$</div>
                        </div>
                        <div class="stat-block variance">
                            <div class="stat-label"><strong>æ–¹å·®ï¼š</strong></div>
                            <div class="stat-formula">$$\text{Var}(X) = np(1-p)$$</div>
                        </div>
                        <div class="stat-block std-deviation">
                            <div class="stat-label"><strong>æ ‡å‡†å·®ï¼š</strong></div>
                            <div class="stat-formula">$$\sigma = \sqrt{np(1-p)}$$</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="offline-notice">
            <strong>ç¦»çº¿ç‰ˆæœ¬è¯´æ˜ï¼š</strong> æœ¬ç‰ˆæœ¬ä½¿ç”¨å†…åµŒçš„ç®€åŒ–ç»˜å›¾å¼•æ“ï¼Œæ— éœ€ç½‘ç»œè¿æ¥å³å¯ä½¿ç”¨ã€‚
            å¦‚éœ€å®Œæ•´åŠŸèƒ½ï¼Œè¯·ä¸‹è½½ <a href="https://cdn.plot.ly/plotly-2.26.0.min.js" target="_blank">plotly.min.js</a> å¹¶æ›¿æ¢å†…åµŒä»£ç ã€‚
        </div>

        <div class="main-panel">
            <!-- å‚æ•°æ§åˆ¶åŒºåŸŸ -->
            <div class="controls-section">
                <div class="control-group">
                    <h3>ğŸ¯ è¯•éªŒæ¬¡æ•° (n)</h3>
                    <div class="slider-container">
                        <div class="slider-label">
                            <span>è¯•éªŒæ¬¡æ•°</span>
                            <span class="slider-value" id="nValue">20</span>
                        </div>
                        <input type="range" id="nSlider" class="slider" min="5" max="100" value="20" step="1">
                        <div class="preset-buttons">
                            <button onclick="setN(10)">n=10</button>
                            <button onclick="setN(20)" class="active">n=20</button>
                            <button onclick="setN(50)">n=50</button>
                            <button onclick="setN(100)">n=100</button>
                        </div>
                    </div>
                </div>

                <div class="control-group">
                    <h3>ğŸ² æˆåŠŸæ¦‚ç‡ (p)</h3>
                    <div class="slider-container">
                        <div class="slider-label">
                            <span>æˆåŠŸæ¦‚ç‡</span>
                            <span class="slider-value" id="pValue">0.5</span>
                        </div>
                        <input type="range" id="pSlider" class="slider" min="0.01" max="0.99" value="0.5" step="0.01">
                        <div class="preset-buttons">
                            <button onclick="setP(0.1)">p=0.1</button>
                            <button onclick="setP(0.3)">p=0.3</button>
                            <button onclick="setP(0.5)" class="active">p=0.5</button>
                            <button onclick="setP(0.7)">p=0.7</button>
                            <button onclick="setP(0.9)">p=0.9</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- ç»Ÿè®¡ä¿¡æ¯ -->
            <div class="stats-section">
                <h3>ğŸ“ˆ å½“å‰åˆ†å¸ƒç»Ÿè®¡ä¿¡æ¯</h3>
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-label">æœŸæœ›å€¼ E(X)</div>
                        <div class="stat-value" id="meanValue">10.0</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">æ–¹å·® Var(X)</div>
                        <div class="stat-value" id="varianceValue">5.0</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">æ ‡å‡†å·® Ïƒ</div>
                        <div class="stat-value" id="stdValue">2.24</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">å˜å¼‚ç³»æ•° CV</div>
                        <div class="stat-value" id="cvValue">0.224</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">ä¼—æ•° Mode</div>
                        <div class="stat-value" id="modeValue">10</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">ååº¦ Skewness</div>
                        <div class="stat-value" id="skewnessValue">0.000</div>
                    </div>
                </div>
            </div>

            <!-- å‚æ•°å¯¹æ¯”å›¾è¡¨ -->
            <div class="charts-section">
                <div class="chart-container">
                    <h3>ğŸ”„ å›ºå®š nï¼Œå˜åŒ– p çš„åˆ†å¸ƒå¯¹æ¯”</h3>
                    <div id="fixedNChart" class="chart-placeholder"></div>
                </div>
                <div class="chart-container">
                    <h3>ğŸ”„ å›ºå®š pï¼Œå˜åŒ– n çš„åˆ†å¸ƒå¯¹æ¯”</h3>
                    <div id="fixedPChart" class="chart-placeholder"></div>
                </div>
            </div>

            <!-- å¯¹æ¯”è¡¨æ ¼ -->
            <div class="comparison-tables">
                <div class="table-container">
                    <h3>ğŸ“Š ä¸åŒ p å€¼ç»Ÿè®¡å¯¹æ¯” (n = <span id="currentN">20</span>)</h3>
                    <table id="pComparisonTable">
                        <thead>
                            <tr>
                                <th>p</th>
                                <th>æœŸæœ›</th>
                                <th>æ–¹å·®</th>
                                <th>æ ‡å‡†å·®</th>
                                <th>å˜å¼‚ç³»æ•°</th>
                                <th>ä¼—æ•°</th>
                                <th>ååº¦</th>
                            </tr>
                        </thead>
                        <tbody></tbody>
                    </table>
                </div>

                <div class="table-container">
                    <h3>ğŸ“Š ä¸åŒ n å€¼ç»Ÿè®¡å¯¹æ¯” (p = <span id="currentP">0.5</span>)</h3>
                    <table id="nComparisonTable">
                        <thead>
                            <tr>
                                <th>n</th>
                                <th>æœŸæœ›</th>
                                <th>æ–¹å·®</th>
                                <th>æ ‡å‡†å·®</th>
                                <th>å˜å¼‚ç³»æ•°</th>
                                <th>ä¼—æ•°</th>
                                <th>ååº¦</th>
                            </tr>
                        </thead>
                        <tbody></tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <script>
        // å…¨å±€å˜é‡
        let currentN = 20;
        let currentP = 0.5;

        // äºŒé¡¹åˆ†å¸ƒæ¦‚ç‡è´¨é‡å‡½æ•°
        function binomialPMF(n, p, k) {
            function combination(n, k) {
                if (k > n) return 0;
                if (k === 0 || k === n) return 1;
                
                let result = 1;
                for (let i = 0; i < Math.min(k, n - k); i++) {
                    result = result * (n - i) / (i + 1);
                }
                return result;
            }
            
            return combination(n, k) * Math.pow(p, k) * Math.pow(1 - p, n - k);
        }

        // è®¡ç®—ç»Ÿè®¡é‡
        function calculateStats(n, p) {
            const mean = n * p;
            const variance = n * p * (1 - p);
            const std = Math.sqrt(variance);
            const cv = std / mean;
            const mode = Math.floor((n + 1) * p);
            const skewness = (1 - 2 * p) / std;
            
            return { mean, variance, std, cv, mode, skewness };
        }

        // æ›´æ–°ç»Ÿè®¡ä¿¡æ¯æ˜¾ç¤º
        function updateStats() {
            const stats = calculateStats(currentN, currentP);
            
            document.getElementById('meanValue').textContent = stats.mean.toFixed(2);
            document.getElementById('varianceValue').textContent = stats.variance.toFixed(2);
            document.getElementById('stdValue').textContent = stats.std.toFixed(2);
            document.getElementById('cvValue').textContent = stats.cv.toFixed(3);
            document.getElementById('modeValue').textContent = stats.mode;
            document.getElementById('skewnessValue').textContent = stats.skewness.toFixed(3);
        }

        // ç»˜åˆ¶å›ºå®šnå˜åŒ–pçš„å¯¹æ¯”å›¾
        function plotFixedN() {
            const colors = ['#667eea', '#764ba2', '#f093fb', '#f5576c', '#4facfe'];
            const pValues = [0.1, 0.3, 0.5, 0.7, 0.9];
            const traces = [];

            pValues.forEach((p, index) => {
                const x = [];
                const y = [];
                
                for (let k = 0; k <= currentN; k++) {
                    x.push(k);
                    y.push(binomialPMF(currentN, p, k));
                }

                traces.push({
                    x: x,
                    y: y,
                    type: 'scatter',
                    mode: 'lines+markers',
                    name: `p = ${p}`,
                    line: {
                        color: colors[index],
                        width: 2
                    },
                    marker: {
                        color: colors[index],
                        size: 4
                    }
                });
            });

            const layout = {
                title: `å›ºå®š n = ${currentN}ï¼Œä¸åŒ p å€¼çš„åˆ†å¸ƒå¯¹æ¯”`,
                xaxis: { 
                    title: 'æˆåŠŸæ¬¡æ•° k',
                    showgrid: true,
                    gridcolor: 'rgba(0,0,0,0.1)'
                },
                yaxis: { 
                    title: 'æ¦‚ç‡ P(X = k)',
                    showgrid: true,
                    gridcolor: 'rgba(0,0,0,0.1)'
                },
                plot_bgcolor: 'rgba(0,0,0,0)',
                paper_bgcolor: 'rgba(0,0,0,0)',
                font: { family: 'Microsoft YaHei, sans-serif' },
                margin: { t: 50, r: 20, b: 60, l: 60 },
                legend: {
                    x: 1,
                    y: 1,
                    bgcolor: 'rgba(255,255,255,0.8)'
                }
            };

            const container = document.getElementById('fixedNChart');
            if (container && typeof Plotly !== 'undefined') {
                Plotly.newPlot('fixedNChart', traces, layout, {responsive: true});
            }
        }

        // ç»˜åˆ¶å›ºå®špå˜åŒ–nçš„å¯¹æ¯”å›¾
        function plotFixedP() {
            const colors = ['#667eea', '#764ba2', '#f093fb', '#f5576c', '#4facfe'];
            const nValues = [10, 20, 50, 80, 100];
            const traces = [];

            nValues.forEach((n, index) => {
                const x = [];
                const y = [];
                
                for (let k = 0; k <= n; k++) {
                    x.push(k);
                    y.push(binomialPMF(n, currentP, k));
                }

                traces.push({
                    x: x,
                    y: y,
                    type: 'scatter',
                    mode: 'lines+markers',
                    name: `n = ${n}`,
                    line: {
                        color: colors[index],
                        width: 2
                    },
                    marker: {
                        color: colors[index],
                        size: 4
                    }
                });
            });

            const layout = {
                title: `å›ºå®š p = ${currentP}ï¼Œä¸åŒ n å€¼çš„åˆ†å¸ƒå¯¹æ¯”`,
                xaxis: { 
                    title: 'æˆåŠŸæ¬¡æ•° k',
                    showgrid: true,
                    gridcolor: 'rgba(0,0,0,0.1)'
                },
                yaxis: { 
                    title: 'æ¦‚ç‡ P(X = k)',
                    showgrid: true,
                    gridcolor: 'rgba(0,0,0,0.1)'
                },
                plot_bgcolor: 'rgba(0,0,0,0)',
                paper_bgcolor: 'rgba(0,0,0,0)',
                font: { family: 'Microsoft YaHei, sans-serif' },
                margin: { t: 50, r: 20, b: 60, l: 60 },
                legend: {
                    x: 1,
                    y: 1,
                    bgcolor: 'rgba(255,255,255,0.8)'
                }
            };

            const container = document.getElementById('fixedPChart');
            if (container && typeof Plotly !== 'undefined') {
                Plotly.newPlot('fixedPChart', traces, layout, {responsive: true});
            }
        }

        // æ›´æ–°å¯¹æ¯”è¡¨æ ¼
        function updateComparisonTable() {
            const pValues = [0.1, 0.3, 0.5, 0.7, 0.9];
            const tbody = document.querySelector('#pComparisonTable tbody');
            tbody.innerHTML = '';

            pValues.forEach(p => {
                const stats = calculateStats(currentN, p);
                const row = tbody.insertRow();
                
                row.insertCell(0).textContent = p.toFixed(1);
                row.insertCell(1).textContent = stats.mean.toFixed(2);
                row.insertCell(2).textContent = stats.variance.toFixed(2);
                row.insertCell(3).textContent = stats.std.toFixed(2);
                row.insertCell(4).textContent = stats.cv.toFixed(3);
                row.insertCell(5).textContent = stats.mode;
                row.insertCell(6).textContent = stats.skewness.toFixed(3);
                
                // é«˜äº®å½“å‰på€¼
                if (Math.abs(p - currentP) < 0.05) {
                    row.style.backgroundColor = '#e6fffa';
                    row.style.fontWeight = 'bold';
                }
            });
        }

        function updateNComparisonTable() {
            const nValues = [10, 20, 50, 80, 100];
            const tbody = document.querySelector('#nComparisonTable tbody');
            tbody.innerHTML = '';

            nValues.forEach(n => {
                const stats = calculateStats(n, currentP);
                const row = tbody.insertRow();
                
                row.insertCell(0).textContent = n;
                row.insertCell(1).textContent = stats.mean.toFixed(2);
                row.insertCell(2).textContent = stats.variance.toFixed(2);
                row.insertCell(3).textContent = stats.std.toFixed(2);
                row.insertCell(4).textContent = stats.cv.toFixed(3);
                row.insertCell(5).textContent = stats.mode;
                row.insertCell(6).textContent = stats.skewness.toFixed(3);
                
                // é«˜äº®å½“å‰nå€¼
                if (n === currentN) {
                    row.style.backgroundColor = '#e6fffa';
                    row.style.fontWeight = 'bold';
                }
            });
        }

        // æ›´æ–°æ‰€æœ‰å›¾è¡¨å’Œç»Ÿè®¡
        function updateAll() {
            updateStats();
            plotFixedN();
            plotFixedP();
            updateComparisonTable();
            updateNComparisonTable();
            
            // æ›´æ–°è¡¨æ ¼æ ‡é¢˜ä¸­çš„å½“å‰å€¼
            document.getElementById('currentN').textContent = currentN;
            document.getElementById('currentP').textContent = currentP;
        }

        // è®¾ç½®nå€¼
        function setN(n) {
            currentN = n;
            document.getElementById('nSlider').value = n;
            document.getElementById('nValue').textContent = n;
            
            // æ›´æ–°æŒ‰é’®çŠ¶æ€
            document.querySelectorAll('.preset-buttons button').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
            
            updateAll();
        }

        // è®¾ç½®på€¼
        function setP(p) {
            currentP = p;
            document.getElementById('pSlider').value = p;
            document.getElementById('pValue').textContent = p;
            
            // æ›´æ–°æŒ‰é’®çŠ¶æ€
            document.querySelectorAll('.preset-buttons button').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
            
            updateAll();
        }

        // æ»‘åŠ¨æ¡äº‹ä»¶ç›‘å¬
        document.getElementById('nSlider').addEventListener('input', function() {
            currentN = parseInt(this.value);
            document.getElementById('nValue').textContent = currentN;
            updateAll();
        });

        document.getElementById('pSlider').addEventListener('input', function() {
            currentP = parseFloat(this.value);
            document.getElementById('pValue').textContent = currentP;
            updateAll();
        });

        // é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            updateAll();
        });
    </script>
    </div>
</body>
</html>