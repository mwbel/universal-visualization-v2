<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ³Šæ¾åˆ†å¸ƒäº¤äº’å¼å¯è§†åŒ– - ç¦»çº¿ç‰ˆ</title>
    <script>
        window.MathJax = {
            tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']],
                displayMath: [['$$', '$$'], ['\\[', '\\]']],
                processEscapes: true,
                processEnvironments: true
            },
            options: {
                skipHtmlTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
                ignoreHtmlClass: 'tex2jax_ignore',
                processHtmlClass: 'tex2jax_process'
            },
            startup: {
                ready: function () {
                    MathJax.startup.defaultReady();
                    console.log('MathJax is ready!');
                }
            }
        };
    </script>
   <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script type="text/javascript" id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/plotly.js/2.26.0/plotly.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            font-size: 16px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
            display: flex;
        }

        .sidebar {
            width: 280px;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            box-shadow: 2px 0 15px rgba(0,0,0,0.1);
            padding: 20px;
            position: fixed;
            height: 100vh;
            overflow-y: auto;
            z-index: 1000;
        }

        .sidebar-title {
            font-size: 1.6em;
            font-weight: 700;
            color: #2d3748;
            margin-bottom: 20px;
            text-align: center;
            border-bottom: 2px solid #e2e8f0;
            padding-bottom: 15px;
        }

        .nav-item {
            display: block;
            padding: 12px 15px;
            margin: 8px 0;
            color: #4a5568;
            text-decoration: none;
            border-radius: 10px;
            transition: all 0.3s;
            font-weight: 500;
            border-left: 4px solid transparent;
            cursor: pointer;
        }

        .nav-item:hover {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            transform: translateX(5px);
            border-left-color: #667eea;
        }

        .nav-item.active {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border-left-color: #667eea;
        }

        .page-content {
            margin-left: 280px;
            flex: 1;
            padding: 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            font-weight: 700;
        }

        .main-panel {
            padding: 30px;
        }

        .definition-section {
            background: #f8fafc;
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 30px;
            border-left: 5px solid #667eea;
        }

        .definition-section h2 {
            color: #2d3748;
            margin-bottom: 20px;
            font-size: 1.5em;
        }

        .formula-container {
            background: white;
            padding: 20px;
            border-radius: 10px;
            margin: 15px 0;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }

        .formula-container h4 {
            color: #4a5568;
            margin-bottom: 10px;
            font-size: 1.1em;
        }

        .formula {
            font-size: 1.2em;
            text-align: left;
            padding: 15px;
            background: #f7fafc;
            border-radius: 8px;
            margin: 10px 0;
        }

        .statistics-blocks {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 30px 0;
            padding: 20px;
            background: rgba(248, 249, 250, 0.8);
            border-radius: 15px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(0, 0, 0, 0.1);
        }

        .stat-block {
            padding: 12px 16px;
            border-radius: 8px;
            text-align: left;
            transition: all 0.3s ease;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            backdrop-filter: blur(10px);
            display: flex;
            align-items: center;
            justify-content: flex-start;
            min-height: 50px;
        }

        .stat-block:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        }

        .stat-block.expectation {
            background: linear-gradient(135deg, #fee2e2, #fecaca);
            border: 2px solid #ef4444;
            color: #991b1b;
        }

        .stat-block.variance {
            background: linear-gradient(135deg, #dcfce7, #bbf7d0);
            border: 2px solid #22c55e;
            color: #166534;
        }

        .stat-block.std-deviation {
            background: linear-gradient(135deg, #dbeafe, #bfdbfe);
            border: 2px solid #3b82f6;
            color: #1e40af;
        }

        .stat-label {
            font-size: 0.95em;
            font-weight: bold;
            margin-right: 8px;
            text-align: left;
        }

        .stat-formula {
            font-family: 'Times New Roman', serif;
            font-size: 1.3em;
            text-align: left;
            background: rgba(255, 255, 255, 0.1);
            padding: 10px;
            border-radius: 6px;
            backdrop-filter: blur(10px);
        }

        .controls-section {
            background: #f8fafc;
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 30px;
        }

        .controls-section h3 {
            color: #2d3748;
            margin-bottom: 20px;
            font-size: 1.3em;
        }

        .control-group {
            margin-bottom: 25px;
        }

        .control-group h4 {
            color: #4a5568;
            margin-bottom: 15px;
            font-size: 1.1em;
        }

        .slider-container {
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }

        .slider-label {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            font-weight: 600;
            color: #2d3748;
        }

        .slider {
            width: 100%;
            height: 8px;
            border-radius: 5px;
            background: #e2e8f0;
            outline: none;
            -webkit-appearance: none;
            margin-bottom: 15px;
        }

        .slider::-webkit-slider-thumb {
            appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: linear-gradient(135deg, #667eea, #764ba2);
            cursor: pointer;
            box-shadow: 0 2px 10px rgba(0,0,0,0.2);
        }

        .preset-buttons {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        .preset-btn {
            padding: 8px 16px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border: none;
            border-radius: 20px;
            cursor: pointer;
            font-size: 1.1em;
            font-weight: 500;
            transition: all 0.3s;
        }

        .preset-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }

        .stats-section {
            background: #f8fafc;
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 30px;
        }

        .stats-section h3 {
            color: #2d3748;
            margin-bottom: 20px;
            font-size: 1.3em;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
        }

        .stat-card {
            background: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
            transition: transform 0.3s;
        }

        .stat-card:hover {
            transform: translateY(-5px);
        }

        .stat-label {
            font-size: 1.1em;
            color: #718096;
            margin-bottom: 8px;
            font-weight: 500;
        }

        .stat-value {
            font-size: 1.5em;
            font-weight: bold;
            color: #2d3748;
        }

        .charts-section {
            margin-bottom: 30px;
        }

        .charts-section.two-column {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }

        .chart-container {
            background: white;
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 25px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
        }

        .chart-container h3 {
            color: #2d3748;
            margin-bottom: 20px;
            font-size: 1.3em;
            text-align: center;
        }

        .chart-placeholder {
            min-height: 400px;
            border-radius: 10px;
        }

        .comparison-section {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
        }

        .comparison-section h3 {
            color: #2d3748;
            margin-bottom: 20px;
            font-size: 1.3em;
            text-align: center;
        }

        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 15px;
        }

        .comparison-table th,
        .comparison-table td {
            padding: 12px;
            text-align: center;
            border-bottom: 1px solid #e2e8f0;
        }

        .comparison-table th {
            background: #f7fafc;
            font-weight: 600;
            color: #2d3748;
        }

        @media (max-width: 768px) {
            .sidebar {
                width: 100%;
                height: auto;
                position: relative;
            }
            
            .page-content {
                margin-left: 0;
            }
            
            .stats-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="sidebar">
        <h3 class="sidebar-title">æ¦‚ç‡è®ºä¸æ•°ç†ç»Ÿè®¡</h3>
        <div class="nav-item" onclick="window.location.href='../index.html'">æ¨¡å—æ¦‚è§ˆ</div>
        <div class="nav-item" onclick="window.location.href='äºŒé¡¹åˆ†å¸ƒç°ä»£åŒ–å¯è§†åŒ–_ç¦»çº¿ç‰ˆ.html'">äºŒé¡¹åˆ†å¸ƒ</div>
        <div class="nav-item active" onclick="window.location.href='æ³Šæ¾åˆ†å¸ƒäº¤äº’å¼å¯è§†åŒ–_å®Œæ•´ç¦»çº¿ç‰ˆ.html'">æ³Šæ¾åˆ†å¸ƒ</div>
        <div class="nav-item" onclick="window.location.href='æŒ‡æ•°åˆ†å¸ƒäº¤äº’å¼å¯è§†åŒ–.html'">æŒ‡æ•°åˆ†å¸ƒ</div>
        <div class="nav-item" onclick="window.location.href='æ­£æ€åˆ†å¸ƒäº¤äº’å¼å¯è§†åŒ–.html'">æ­£æ€åˆ†å¸ƒ</div>
        <div class="nav-item" onclick="window.location.href='../index.html'">è¿”å› â€œæ¦‚ç‡ä¸ç»Ÿè®¡å¯è§†åŒ–ä¸–ç•Œâ€é¦–é¡µ</div>
<div class="nav-item" onclick="window.location.href='../../../index.html'">è¿”å› â€œä¸‡ç‰©å¯è§†åŒ–â€é¦–é¡µ</div>
    </div>
    
    <div class="page-content">
        <div class="container">
            <div class="header">
                <h1>ğŸ“Š æ³Šæ¾åˆ†å¸ƒäº¤äº’å¼å¯è§†åŒ–</h1>
            </div>
            
            <div class="main-panel">
                <!-- åˆ†å¸ƒè¯´æ˜ -->
                <div class="distribution-description" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 20px; border-radius: 12px; margin: 20px 0; text-align: center; box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);">
                    <h2 style="margin: 0; font-size: 1.5em;">ğŸ“Š æ³Šæ¾åˆ†å¸ƒ - æè¿°å›ºå®šæ—¶é—´æˆ–ç©ºé—´å†…ç¨€æœ‰äº‹ä»¶å‘ç”Ÿæ¬¡æ•°çš„ç¦»æ•£æ¦‚ç‡åˆ†å¸ƒ</h2>
                </div>
                
                <div class="definition-section">
                    <div class="definition-content">
                        
                        <div style="background: #e8f4fd; padding: 12px; border-radius: 8px; margin: 15px 0; border-left: 4px solid #2196F3;">
                            <h4 style="color: #1976D2; margin-bottom: 8px;">ğŸ¯ é€‚ç”¨åœºæ™¯</h4>
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; color: #424242;">
                                <div>
                                    <strong>ä¸šåŠ¡è¿è¥ï¼š</strong><br>
                                    â€¢ äº¤é€šæµé‡ï¼šå•ä½æ—¶é—´å†…é€šè¿‡è·¯å£çš„è½¦è¾†æ•°<br>
                                    â€¢ å®¢æˆ·åˆ°è¾¾ï¼šå•†åº—ã€é“¶è¡Œå•ä½æ—¶é—´å†…çš„å®¢æˆ·æ•°<br>
                                    â€¢ ç”µè¯å‘¼å«ï¼šå‘¼å«ä¸­å¿ƒå•ä½æ—¶é—´å†…çš„æ¥ç”µæ•°
                                </div>
                                <div>
                                    <strong>æŠ€æœ¯åº”ç”¨ï¼š</strong><br>
                                    â€¢ ç½‘ç«™è®¿é—®ï¼šç½‘ç«™å•ä½æ—¶é—´å†…çš„è®¿é—®æ¬¡æ•°<br>
                                    â€¢ è´¨é‡ç¼ºé™·ï¼šç”Ÿäº§çº¿ä¸Šå•ä½äº§å“çš„ç¼ºé™·æ•°<br>
                                    â€¢ è‡ªç„¶ç°è±¡ï¼šåœ°éœ‡ã€æµæ˜Ÿç­‰ç½•è§äº‹ä»¶çš„å‘ç”Ÿæ¬¡æ•°
                                </div>
                            </div>
                        </div>
                        
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin: 20px 0;">
                            <div class="formula-container">
                                <h4>æ¦‚ç‡è´¨é‡å‡½æ•° (PMF)ï¼š</h4>
                                <div class="formula">
                                    $$P(X = k) = \frac{\lambda^k e^{-\lambda}}{k!}, \quad k = 0, 1, 2, \ldots$$
                                </div>
                            </div>
                            
                            <div class="formula-container">
                                <h4>ç´¯ç§¯åˆ†å¸ƒå‡½æ•° (CDF)ï¼š</h4>
                                <div class="formula">
                                    $$F(k) = P(X \leq k) = \sum_{i=0}^{k} \frac{\lambda^i e^{-\lambda}}{i!}$$
                                </div>
                            </div>
                        </div>
                        
                        <div class="formula-container">
                            <h4>å‚æ•°ï¼š</h4>
                            <div class="parameters-info" style="background: #f8f9fa; padding: 15px; border-radius: 8px; margin: 10px 0;">
                                <ul style="margin: 0; padding-left: 20px; list-style-type: none;">
                                    <li style="margin: 8px 0;"><strong>$\lambda$ (lambda)ï¼š</strong>å¹³å‡å‘ç”Ÿç‡å‚æ•°ï¼ˆ$\lambda > 0$ï¼‰- è¡¨ç¤ºå•ä½æ—¶é—´æˆ–ç©ºé—´å†…äº‹ä»¶çš„å¹³å‡å‘ç”Ÿæ¬¡æ•°</li>
                                    <li style="margin: 8px 0;"><strong>$k$ï¼š</strong>äº‹ä»¶å‘ç”Ÿæ¬¡æ•°ï¼ˆ$k = 0, 1, 2, ...$ï¼‰- è¡¨ç¤ºå®é™…è§‚æµ‹åˆ°çš„äº‹ä»¶å‘ç”Ÿæ¬¡æ•°</li>
                                </ul>
                            </div>
                        </div>
                        
                        <div class="formula-container">
                            <h4>ç»Ÿè®¡ç‰¹æ€§ï¼š</h4>
                            <div class="statistics-blocks">
                                <div class="stat-block expectation">
                                    <div class="stat-label"><strong>æœŸæœ›å€¼ï¼š</strong></div>
                                    <div class="stat-formula">$$E(X) = \lambda$$</div>
                                </div>
                                <div class="stat-block variance">
                                    <div class="stat-label"><strong>æ–¹å·®ï¼š</strong></div>
                                    <div class="stat-formula">$$\text{Var}(X) = \lambda$$</div>
                                </div>
                                <div class="stat-block std-deviation">
                                    <div class="stat-label"><strong>æ ‡å‡†å·®ï¼š</strong></div>
                                    <div class="stat-formula">$$\sigma = \sqrt{\lambda}$$</div>
                                </div>
                            </div>
                        </div>
                        

                    </div>
                </div>

                <div class="controls-section">
                    <h3>ğŸ›ï¸ å‚æ•°æ§åˆ¶</h3>
                    <div class="control-group">
                        <h4>ğŸ“ˆ å¹³å‡å‘ç”Ÿç‡ Î»</h4>
                        <div class="slider-container">
                            <div class="slider-label">
                                <span>Î» = <span id="lambdaValue">3.0</span></span>
                                <span>èŒƒå›´: 0.1 - 20.0</span>
                            </div>
                            <input type="range" id="lambdaSlider" class="slider" min="0.1" max="20" step="0.1" value="3.0">
                            <div class="preset-buttons">
                                <button class="preset-btn" onclick="setLambda(0.5)">Î»=0.5</button>
                                <button class="preset-btn" onclick="setLambda(1.0)">Î»=1.0</button>
                                <button class="preset-btn" onclick="setLambda(3.0)">Î»=3.0</button>
                                <button class="preset-btn" onclick="setLambda(5.0)">Î»=5.0</button>
                                <button class="preset-btn" onclick="setLambda(10.0)">Î»=10.0</button>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="stats-section">
                    <h3>ğŸ“Š å½“å‰åˆ†å¸ƒç»Ÿè®¡ä¿¡æ¯</h3>
                    <div class="stats-grid">
                        <div class="stat-card">
                            <div class="stat-label">æœŸæœ›å€¼ E(X)</div>
                            <div class="stat-value" id="meanValue">3.00</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-label">æ–¹å·® Var(X)</div>
                            <div class="stat-value" id="varianceValue">3.00</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-label">æ ‡å‡†å·® Ïƒ</div>
                            <div class="stat-value" id="stdValue">1.73</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-label">ä¼—æ•° Mode</div>
                            <div class="stat-value" id="modeValue">3</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-label">ååº¦ Skewness</div>
                            <div class="stat-value" id="skewnessValue">0.577</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-label">å³°åº¦ Kurtosis</div>
                            <div class="stat-value" id="kurtosisValue">3.333</div>
                        </div>
                    </div>
                </div>

                <div class="charts-section two-column">
                    <div class="chart-container">
                        <h3>ğŸ“ˆ æ¦‚ç‡è´¨é‡å‡½æ•° (PMF)</h3>
                        <div id="pmfChart" class="chart-placeholder"></div>
                    </div>
                    
                    <div class="chart-container">
                        <h3>ğŸ“Š ç´¯ç§¯åˆ†å¸ƒå‡½æ•° (CDF)</h3>
                        <div id="cdfChart" class="chart-placeholder"></div>
                    </div>
                </div>

                <div class="charts-section two-column">
                    <div class="chart-container">
                        <h3>ğŸ”„ ä¸åŒ Î» å€¼çš„ PMF å¯¹æ¯”</h3>
                        <div id="pmfComparisonChart" class="chart-placeholder"></div>
                    </div>
                    
                    <div class="chart-container">
                        <h3>ğŸ”„ ä¸åŒ Î» å€¼çš„ CDF å¯¹æ¯”</h3>
                        <div id="cdfComparisonChart" class="chart-placeholder"></div>
                    </div>
                </div>

                <div class="comparison-section">
                    <h3>ğŸ“‹ ä¸åŒ Î» å€¼ç»Ÿè®¡å¯¹æ¯”</h3>
                    <table class="comparison-table">
                        <thead>
                            <tr>
                                <th>Î» å€¼</th>
                                <th>æœŸæœ›å€¼</th>
                                <th>æ–¹å·®</th>
                                <th>æ ‡å‡†å·®</th>
                                <th>ä¼—æ•°</th>
                                <th>ååº¦</th>
                            </tr>
                        </thead>
                        <tbody id="comparisonTableBody">
                            <!-- åŠ¨æ€ç”Ÿæˆå†…å®¹ -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <script>
        // å…¨å±€å˜é‡
        let currentLambda = 3.0;

        // åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            updateVisualization();
            setupEventListeners();
        });

        // è®¾ç½®äº‹ä»¶ç›‘å¬å™¨
        function setupEventListeners() {
            const lambdaSlider = document.getElementById('lambdaSlider');
            lambdaSlider.addEventListener('input', function() {
                currentLambda = parseFloat(this.value);
                updateVisualization();
            });
        }

        // è®¾ç½® lambda å€¼
        function setLambda(value) {
            currentLambda = value;
            document.getElementById('lambdaSlider').value = value;
            updateVisualization();
        }

        // æ›´æ–°å¯è§†åŒ–
        function updateVisualization() {
            updateDisplay();
            updateStatistics();
            updateCharts();
            updateComparisonTable();
        }

        // æ›´æ–°æ˜¾ç¤ºå€¼
        function updateDisplay() {
            document.getElementById('lambdaValue').textContent = currentLambda.toFixed(1);
        }

        // è®¡ç®—æ³Šæ¾åˆ†å¸ƒPMF
        function poissonPMF(k, lambda) {
            if (k < 0) return 0;
            return Math.pow(lambda, k) * Math.exp(-lambda) / factorial(k);
        }

        // è®¡ç®—é˜¶ä¹˜
        function factorial(n) {
            if (n <= 1) return 1;
            let result = 1;
            for (let i = 2; i <= n; i++) {
                result *= i;
            }
            return result;
        }

        // è®¡ç®—æ³Šæ¾åˆ†å¸ƒCDF
        function poissonCDF(k, lambda) {
            let sum = 0;
            for (let i = 0; i <= k; i++) {
                sum += poissonPMF(i, lambda);
            }
            return sum;
        }

        // æ›´æ–°ç»Ÿè®¡ä¿¡æ¯
        function updateStatistics() {
            const mean = currentLambda;
            const variance = currentLambda;
            const std = Math.sqrt(variance);
            const mode = Math.floor(currentLambda);
            const skewness = 1 / Math.sqrt(currentLambda);
            const kurtosis = 3 + 1 / currentLambda;

            document.getElementById('meanValue').textContent = mean.toFixed(2);
            document.getElementById('varianceValue').textContent = variance.toFixed(2);
            document.getElementById('stdValue').textContent = std.toFixed(2);
            document.getElementById('modeValue').textContent = mode.toString();
            document.getElementById('skewnessValue').textContent = skewness.toFixed(3);
            document.getElementById('kurtosisValue').textContent = kurtosis.toFixed(3);
        }

        // æ›´æ–°å›¾è¡¨
        function updateCharts() {
            updatePMFChart();
            updateCDFChart();
            updateComparisonCharts();
        }

        // æ›´æ–°PMFå›¾è¡¨
        function updatePMFChart() {
            const maxK = Math.max(20, Math.ceil(currentLambda + 4 * Math.sqrt(currentLambda)));
            const k_values = Array.from({length: maxK + 1}, (_, i) => i);
            const pmf_values = k_values.map(k => poissonPMF(k, currentLambda));

            const trace = {
                x: k_values,
                y: pmf_values,
                type: 'bar',
                name: `Î» = ${currentLambda}`,
                marker: {
                    color: 'rgba(102, 126, 234, 0.8)',
                    line: {
                        color: 'rgba(102, 126, 234, 1)',
                        width: 1
                    }
                }
            };

            const layout = {
                title: {
                    text: `æ³Šæ¾åˆ†å¸ƒ PMF (Î» = ${currentLambda})`,
                    font: { size: 16 }
                },
                xaxis: {
                    title: 'k (äº‹ä»¶å‘ç”Ÿæ¬¡æ•°)',
                    showgrid: true,
                    gridcolor: 'rgba(0,0,0,0.1)'
                },
                yaxis: {
                    title: 'P(X = k)',
                    showgrid: true,
                    gridcolor: 'rgba(0,0,0,0.1)'
                },
                plot_bgcolor: 'rgba(0,0,0,0)',
                paper_bgcolor: 'rgba(0,0,0,0)',
                font: { family: 'Segoe UI, sans-serif' }
            };

            Plotly.newPlot('pmfChart', [trace], layout, {responsive: true});
        }

        // æ›´æ–°CDFå›¾è¡¨
        function updateCDFChart() {
            const maxK = Math.max(20, Math.ceil(currentLambda + 4 * Math.sqrt(currentLambda)));
            const k_values = Array.from({length: maxK + 1}, (_, i) => i);
            const cdf_values = k_values.map(k => poissonCDF(k, currentLambda));

            const trace = {
                x: k_values,
                y: cdf_values,
                type: 'scatter',
                mode: 'lines+markers',
                name: `Î» = ${currentLambda}`,
                line: {
                    color: 'rgba(118, 75, 162, 0.8)',
                    width: 3
                },
                marker: {
                    color: 'rgba(118, 75, 162, 1)',
                    size: 6
                }
            };

            const layout = {
                title: {
                    text: `æ³Šæ¾åˆ†å¸ƒ CDF (Î» = ${currentLambda})`,
                    font: { size: 16 }
                },
                xaxis: {
                    title: 'k (äº‹ä»¶å‘ç”Ÿæ¬¡æ•°)',
                    showgrid: true,
                    gridcolor: 'rgba(0,0,0,0.1)'
                },
                yaxis: {
                    title: 'P(X â‰¤ k)',
                    showgrid: true,
                    gridcolor: 'rgba(0,0,0,0.1)'
                },
                plot_bgcolor: 'rgba(0,0,0,0)',
                paper_bgcolor: 'rgba(0,0,0,0)',
                font: { family: 'Segoe UI, sans-serif' }
            };

            Plotly.newPlot('cdfChart', [trace], layout, {responsive: true});
        }

        // æ›´æ–°å¯¹æ¯”å›¾è¡¨
        function updateComparisonCharts() {
            const lambdaValues = [0.5, 1.0, 3.0, 5.0, 10.0];
            const colors = ['#FF6B6B', '#4ECDC4', '#45B7D1', '#96CEB4', '#FFEAA7'];
            
            // PMFå¯¹æ¯”
            const maxK = 25;
            const k_values = Array.from({length: maxK + 1}, (_, i) => i);
            
            const pmfTraces = lambdaValues.map((lambda, index) => ({
                x: k_values,
                y: k_values.map(k => poissonPMF(k, lambda)),
                type: 'scatter',
                mode: 'lines+markers',
                name: `Î» = ${lambda}`,
                line: { color: colors[index], width: 2 },
                marker: { color: colors[index], size: 4 }
            }));

            const pmfLayout = {
                title: { text: 'ä¸åŒ Î» å€¼çš„æ³Šæ¾åˆ†å¸ƒ PMF å¯¹æ¯”', font: { size: 16 } },
                xaxis: { title: 'k', showgrid: true, gridcolor: 'rgba(0,0,0,0.1)' },
                yaxis: { title: 'P(X = k)', showgrid: true, gridcolor: 'rgba(0,0,0,0.1)' },
                plot_bgcolor: 'rgba(0,0,0,0)',
                paper_bgcolor: 'rgba(0,0,0,0)',
                font: { family: 'Segoe UI, sans-serif' }
            };

            Plotly.newPlot('pmfComparisonChart', pmfTraces, pmfLayout, {responsive: true});

            // CDFå¯¹æ¯”
            const cdfTraces = lambdaValues.map((lambda, index) => ({
                x: k_values,
                y: k_values.map(k => poissonCDF(k, lambda)),
                type: 'scatter',
                mode: 'lines',
                name: `Î» = ${lambda}`,
                line: { color: colors[index], width: 3 }
            }));

            const cdfLayout = {
                title: { text: 'ä¸åŒ Î» å€¼çš„æ³Šæ¾åˆ†å¸ƒ CDF å¯¹æ¯”', font: { size: 16 } },
                xaxis: { title: 'k', showgrid: true, gridcolor: 'rgba(0,0,0,0.1)' },
                yaxis: { title: 'P(X â‰¤ k)', showgrid: true, gridcolor: 'rgba(0,0,0,0.1)' },
                plot_bgcolor: 'rgba(0,0,0,0)',
                paper_bgcolor: 'rgba(0,0,0,0)',
                font: { family: 'Segoe UI, sans-serif' }
            };

            Plotly.newPlot('cdfComparisonChart', cdfTraces, cdfLayout, {responsive: true});
        }

        // æ›´æ–°å¯¹æ¯”è¡¨æ ¼
        function updateComparisonTable() {
            const lambdaValues = [0.5, 1.0, 2.0, 3.0, 5.0, 10.0];
            const tbody = document.getElementById('comparisonTableBody');
            
            tbody.innerHTML = lambdaValues.map(lambda => {
                const mean = lambda;
                const variance = lambda;
                const std = Math.sqrt(variance);
                const mode = Math.floor(lambda);
                const skewness = 1 / Math.sqrt(lambda);
                
                return `
                    <tr>
                        <td>${lambda}</td>
                        <td>${mean.toFixed(2)}</td>
                        <td>${variance.toFixed(2)}</td>
                        <td>${std.toFixed(2)}</td>
                        <td>${mode}</td>
                        <td>${skewness.toFixed(3)}</td>
                    </tr>
                `;
            }).join('');
        }
    </script>
</body>
</html>