<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>高中数学可视化 - 万物可视化</title>
    <link rel="stylesheet" href="../../assets/css/reset.css">
    <link rel="stylesheet" href="../../assets/css/common.css">
    <link rel="stylesheet" href="../high-school.css">
    <link rel="stylesheet" href="math.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.plot.ly/plotly-2.27.0.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
</head>
<body class="night-sky-theme">
    <!-- 导航栏 -->
    <header class="app-header">
        <nav class="navbar">
            <div class="nav-container">
                <div class="nav-brand">
                    <a href="../index.html" class="brand-link">
                        <span class="brand-icon">📚</span>
                        <span class="brand-text">高中学科</span>
                    </a>
                </div>

                <div class="nav-menu">
                    <a href="../../index.html" class="nav-item">首页</a>
                    <a href="../index.html" class="nav-item">学科选择</a>
                    <a href="#" class="nav-item active">高中数学</a>
                    <a href="#" class="nav-item">学习进度</a>
                </div>

                <div class="nav-actions">
                    <button class="theme-toggle-btn" id="themeToggle" title="切换主题">
                        <span class="theme-icon">🌙</span>
                    </button>
                </div>
            </div>
        </nav>
    </header>

    <!-- 主内容区 -->
    <main class="app-main">
        <div class="container">
            <!-- 页面标题 -->
            <section class="page-header">
                <div class="header-content">
                    <h1 class="page-title">
                        <span class="title-icon">📐</span>
                        高中数学可视化
                    </h1>
                    <p class="page-description">
                        基于上海高中数学教材的交互式概念可视化学习
                    </p>
                </div>
                <div class="header-stats">
                    <div class="progress-overview">
                        <div class="progress-circle">
                            <span class="progress-text">0%</span>
                        </div>
                        <div class="progress-info">
                            <div class="progress-label">学习进度</div>
                            <div class="progress-detail">0/50 概念已完成</div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- 章节导航 -->
            <section class="chapters-section">
                <h2 class="section-title">教材章节</h2>
                <div class="chapters-grid">
                    <!-- 必修1 -->
                    <div class="chapter-group">
                        <h3 class="group-title">必修1</h3>
                        <div class="chapters-list">
                            <div class="chapter-item" data-chapter="1-1">
                                <div class="chapter-header">
                                    <span class="chapter-icon">📖</span>
                                    <div class="chapter-info">
                                        <h4 class="chapter-title">第1章：集合</h4>
                                        <p class="chapter-description">集合的含义与表示、基本关系、基本运算</p>
                                    </div>
                                    <div class="chapter-status">
                                        <span class="status-badge">未开始</span>
                                        <span class="concept-count">8个概念</span>
                                    </div>
                                </div>
                                <div class="chapter-progress">
                                    <div class="progress-bar">
                                        <div class="progress-fill" style="width: 0%"></div>
                                    </div>
                                </div>
                            </div>

                            <div class="chapter-item" data-chapter="1-2">
                                <div class="chapter-header">
                                    <span class="chapter-icon">📊</span>
                                    <div class="chapter-info">
                                        <h4 class="chapter-title">第2章：函数</h4>
                                        <p class="chapter-description">函数的概念、表示法、基本性质</p>
                                    </div>
                                    <div class="chapter-status">
                                        <span class="status-badge">未开始</span>
                                        <span class="concept-count">12个概念</span>
                                    </div>
                                </div>
                                <div class="chapter-progress">
                                    <div class="progress-bar">
                                        <div class="progress-fill" style="width: 0%"></div>
                                    </div>
                                </div>
                            </div>

                            <div class="chapter-item" data-chapter="1-3">
                                <div class="chapter-header">
                                    <span class="chapter-icon">📈</span>
                                    <div class="chapter-info">
                                        <h4 class="chapter-title">第3章：基本初等函数</h4>
                                        <p class="chapter-description">指数函数、对数函数、幂函数</p>
                                    </div>
                                    <div class="chapter-status">
                                        <span class="status-badge">未开始</span>
                                        <span class="concept-count">10个概念</span>
                                    </div>
                                </div>
                                <div class="chapter-progress">
                                    <div class="progress-bar">
                                        <div class="progress-fill" style="width: 0%"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- 必修2 -->
                    <div class="chapter-group">
                        <h3 class="group-title">必修2</h3>
                        <div class="chapters-list">
                            <div class="chapter-item" data-chapter="2-1">
                                <div class="chapter-header">
                                    <span class="chapter-icon">📐</span>
                                    <div class="chapter-info">
                                        <h4 class="chapter-title">第1章：立体几何初步</h4>
                                        <p class="chapter-description">空间几何体、点线面位置关系</p>
                                    </div>
                                    <div class="chapter-status">
                                        <span class="status-badge">未开始</span>
                                        <span class="concept-count">15个概念</span>
                                    </div>
                                </div>
                                <div class="chapter-progress">
                                    <div class="progress-bar">
                                        <div class="progress-fill" style="width: 0%"></div>
                                    </div>
                                </div>
                            </div>

                            <div class="chapter-item" data-chapter="2-2">
                                <div class="chapter-header">
                                    <span class="chapter-icon">📏</span>
                                    <div class="chapter-info">
                                        <h4 class="chapter-title">第2章：解析几何初步</h4>
                                        <p class="chapter-description">直线与方程、圆与方程</p>
                                    </div>
                                    <div class="chapter-status">
                                        <span class="status-badge">未开始</span>
                                        <span class="concept-count">10个概念</span>
                                    </div>
                                </div>
                                <div class="chapter-progress">
                                    <div class="progress-bar">
                                        <div class="progress-fill" style="width: 0%"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- 概念可视化区域 -->
            <section class="visualization-section" id="visualizationSection" style="display: none;">
                <div class="section-header">
                    <h2 class="section-title">概念可视化</h2>
                    <button class="back-btn" onclick="backToChapters()">
                        <span class="btn-icon">←</span>
                        返回章节
                    </button>
                </div>

                <div class="concept-content">
                    <div class="concept-header">
                        <h3 class="concept-title" id="conceptTitle">概念标题</h3>
                        <p class="concept-description" id="conceptDescription">概念描述</p>
                    </div>

                    <div class="visualization-container">
                        <div class="viz-panel">
                            <div id="plotlyChart" class="chart-container"></div>
                        </div>

                        <div class="control-panel">
                            <h4 class="panel-title">参数控制</h4>
                            <div class="controls-list" id="controlsList">
                                <!-- 动态生成的控制项 -->
                            </div>
                        </div>
                    </div>

                    <div class="concept-explanation">
                        <h4 class="explanation-title">概念解释</h4>
                        <div class="explanation-content" id="explanationContent">
                            <!-- 动态生成的解释内容 -->
                        </div>
                    </div>
                </div>
            </section>

            <!-- AI 输入区域 -->
            <section class="ai-input-section">
                <h2 class="section-title">AI 智能可视化</h2>
                <div class="input-container">
                    <div class="input-group">
                        <input
                            type="text"
                            id="aiInput"
                            class="ai-input"
                            placeholder="描述你想要可视化的数学概念，例如：二次函数 y = x² + 2x + 1 的图像"
                        >
                        <button class="generate-btn" onclick="generateVisualization()">
                            <span class="btn-icon">🤖</span>
                            生成可视化
                        </button>
                    </div>
                    <div class="input-suggestions">
                        <span class="suggestion-label">试试这些：</span>
                        <button class="suggestion-btn" onclick="setExample('二次函数 y = ax² + bx + c 的顶点式')">二次函数顶点式</button>
                        <button class="suggestion-btn" onclick="setExample('正弦函数 y = sin(x) 的图像和性质')">正弦函数图像</button>
                        <button class="suggestion-btn" onclick="setExample('正态分布曲线')">正态分布</button>
                    </div>
                </div>
            </section>
        </div>
    </main>

    <!-- 页脚 -->
    <footer class="app-footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h4 class="footer-title">高中数学可视化</h4>
                    <p class="footer-description">
                        基于上海高中数学教材的交互式学习平台
                    </p>
                </div>
                <div class="footer-section">
                    <h4 class="footer-title">快速链接</h4>
                    <ul class="footer-links">
                        <li><a href="../index.html">学科选择</a></li>
                        <li><a href="../../index.html">首页</a></li>
                        <li><a href="#">使用帮助</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4 class="footer-title">技术支持</h4>
                    <p class="footer-description">
                        基于Plotly.js和MathJax构建的数学可视化系统
                    </p>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 万物可视化. 保留所有权利.</p>
            </div>
        </div>
    </footer>

    <!-- 加载指示器 -->
    <div class="loading-overlay" id="loadingOverlay" style="display: none;">
        <div class="loading-spinner">
            <div class="spinner"></div>
            <p>正在生成可视化...</p>
        </div>
    </div>

    <!-- 提示消息 -->
    <div class="toast-container" id="toastContainer"></div>

    <!-- JavaScript -->
    <script src="../../components/ThemeManager.js"></script>
    <script src="../high-school.js"></script>
    <script src="math.js"></script>
</body>
</html>