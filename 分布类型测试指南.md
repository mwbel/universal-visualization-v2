# 🧪 万物可视化分布类型测试指南

**日期**: 2025-11-05
**服务状态**: 后端API ✅ | HTTP服务器 ✅
**支持分布**: 7种概率分布

## 📋 测试环境清单

- ✅ **后端API服务**: `http://localhost:8000` (运行中)
- ✅ **HTTP测试服务器**: `http://localhost:8888` (运行中)
- ✅ **扩展分布测试页面**: `http://localhost:8888/test-extended-distributions.html`

## 🎯 支持的分布类型

### 📊 原有分布 (3种)
1. **正态分布 N(μ, σ²)** - 高斯分布，对称的钟形曲线
2. **二项分布 B(n, p)** - n次伯努利试验中成功次数的分布
3. **泊松分布 P(λ)** - 单位时间内事件发生次数的分布

### 📊 新增分布 (4种)
4. **均匀分布 U(a, b)** - 区间内等概率的连续分布，矩形分布 🆕
5. **指数分布 Exp(λ)** - 描述等待时间或寿命的无记忆性分布 🆕
6. **卡方分布 χ²(k)** - 用于拟合优度检验和独立性检验 🆕
7. **t分布 t(df)** - 小样本均值估计，包含正态分布对比 🆕

## 🧪 测试方法

### 方法一：可视化测试页面 (推荐)

**访问地址**: `http://localhost:8888/test-extended-distributions.html`

**测试步骤**:
1. 打开浏览器访问测试页面
2. 检查页面顶部的"后端服务状态"显示 ✅
3. 点击各个分布的测试按钮
4. 在弹出的iframe中查看生成的可视化
5. 拖动滑动条测试交互功能

**测试按钮清单**:

#### 原有分布测试
- [ ] 正态分布: `标准正态 N(0,1)`
- [ ] 正态分布: `N(3,2²)`
- [ ] 二项分布: `B(20,0.5)`
- [ ] 二项分布: `B(30,0.7)`
- [ ] 泊松分布: `P(3)`
- [ ] 泊松分布: `P(10)`

#### 新增分布测试
- [ ] 均匀分布: `U(0,1)` 🆕
- [ ] 均匀分布: `U(-2,3)` 🆕
- [ ] 指数分布: `Exp(0.5)` 🆕
- [ ] 指数分布: `Exp(2)` 🆕
- [ ] 卡方分布: `χ²(5)` 🆕
- [ ] 卡方分布: `χ²(10)` 🆕
- [ ] t分布: `t(5)` 🆕
- [ ] t分布: `t(15)` 🆕

### 方法二：固定坐标轴测试页面

**访问地址**: `http://localhost:8888/test-fixed-axes.html`

**特色功能**:
- 测试固定坐标轴交互体验
- 验证参数变化时坐标轴保持不变
- 对比不同参数对分布形状的影响

### 方法三：直接API测试

使用curl命令直接测试API:

```bash
# 正态分布测试
curl -X POST "http://localhost:8000/resolve_or_generate" \
  -H "Content-Type: application/json" \
  -d '{"prompt": "正态分布 均值0 标准差1", "vizType": "auto", "complexity": "中等", "params": {}}'

# 新增分布测试
curl -X POST "http://localhost:8000/resolve_or_generate" \
  -H "Content-Type: application/json" \
  -d '{"prompt": "均匀分布 0到1", "vizType": "auto", "complexity": "中等", "params": {}}'

curl -X POST "http://localhost:8000/resolve_or_generate" \
  -H "Content-Type: application/json" \
  -d '{"prompt": "指数分布 λ=0.5", "vizType": "auto", "complexity": "中等", "params": {}}'

curl -X POST "http://localhost:8000/resolve_or_generate" \
  -H "Content-Type: application/json" \
  -d '{"prompt": "卡方分布 自由度5", "vizType": "auto", "complexity": "中等", "params": {}}'

curl -X POST "http://localhost:8000/resolve_or_generate" \
  -H "Content-Type: application/json" \
  -d '{"prompt": "t分布 自由度5", "vizType": "auto", "complexity": "中等", "params": {}}'
```

## 🔍 功能测试要点

### 1. 生成测试
- [ ] 所有分布都能成功生成HTML可视化
- [ ] 返回的API响应中 `success: true`
- [ ] 生成的HTML内容完整且格式正确

### 2. 交互测试
- [ ] 滑动条能实时调整分布参数
- [ ] 分布曲线随参数变化实时更新
- [ ] 统计信息动态更新（均值、方差、标准差等）

### 3. 固定坐标轴测试
- [ ] 参数调整时坐标轴范围保持固定
- [ ] 只有分布曲线在变化
- [ ] 不同参数的影响直观可见

### 4. 统计信息测试
- [ ] 均值、方差、标准差计算正确
- [ ] 中位数、众数等统计量显示准确
- [ ] 特殊统计量（如t分布的自由度）显示正确

### 5. UI/UX测试
- [ ] 页面布局美观，响应式设计正常
- [ ] 颜色主题与分布类型匹配
- [ ] 交互操作流畅，无明显延迟

## 🎨 各分布特色功能

### 均匀分布
- **固定坐标轴**: X轴 [-15, 15]，Y轴 [0, 1]
- **特色统计**: 支持域 [a, b] 显示
- **颜色主题**: 红色系 (#FF6B6B)

### 指数分布
- **固定坐标轴**: X轴 [0, 15]，Y轴 [0, 5]
- **特色统计**: 中位数 (ln(2)/λ)
- **颜色主题**: 橙色系 (#FF8C42)

### 卡方分布
- **固定坐标轴**: X轴 [0, 30]，Y轴 [0, 0.3]
- **特色统计**: 众数 = max(0, k-2)
- **颜色主题**: 紫色系 (#9B59B6)

### t分布
- **固定坐标轴**: X轴 [-5, 5]，Y轴 [0, 0.45]
- **特色功能**: 包含标准正态分布对比曲线
- **颜色主题**: 绿色系 (#2ECC71)

## 🚨 故障排查

### 常见问题
1. **后端连接失败**: 检查 `http://localhost:8000` 是否运行
2. **页面无法访问**: 检查 `http://localhost:3000` 是否运行
3. **可视化不显示**: 检查浏览器控制台的JavaScript错误
4. **参数无响应**: 刷新页面重新初始化

### 恢复服务
```bash
# 重启后端API
cd "/Users/Min369/Documents/同步空间/Manju/Projects/AlVisualization"
source backend-env/bin/activate
python backend-api.py

# 重启HTTP服务器
python3 -m http.server 3000
```

## 📈 测试结果记录

### 测试完成情况
- [ ] 所有7种分布生成成功
- [ ] 交互功能正常
- [ ] 固定坐标轴功能正常
- [ ] 统计信息准确
- [ ] UI/UX体验良好

### 发现的问题
- *记录测试过程中发现的任何问题*
- *记录解决方案和优化建议*

---

**🎉 测试完成后，万物可视化系统将支持7种概率分布类型，为用户提供丰富的数学可视化体验！**